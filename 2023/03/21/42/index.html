<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js"></script>

    <meta name="description" content="äº†è§£åµŒå…¥å¼ä»£ç é‡Œé¢çš„ä¸€äº›commonå†…å®¹">
<meta property="og:type" content="article">
<meta property="og:title" content="åµŒå…¥å¼common">
<meta property="og:url" content="http://example.com/2023/03/21/42/index.html">
<meta property="og:site_name" content="DustOfStars">
<meta property="og:description" content="äº†è§£åµŒå…¥å¼ä»£ç é‡Œé¢çš„ä¸€äº›commonå†…å®¹">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic1.zhimg.com/50/v2-2e5c249ab76e390a9e582c37e4b0aba3_720w.jpg?source=1940ef5c">
<meta property="og:image" content="https://pic1.zhimg.com/50/v2-30a6353a8582f2c2b3aa1298f3ac59c3_720w.jpg?source=1940ef5c">
<meta property="og:image" content="https://pica.zhimg.com/50/v2-4afd7ce25c84fe1b9b95b959264292aa_720w.jpg?source=1940ef5c">
<meta property="og:image" content="https://picx.zhimg.com/50/v2-4a734839eec7f0c9f8fb2cebee129d8e_720w.jpg?source=1940ef5c">
<meta property="og:image" content="http://example.com/2023/03/21/42/RAM%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA.png">
<meta property="og:image" content="http://example.com/2023/03/21/42/%E7%BC%96%E8%AF%91%E7%BB%93%E6%9E%9C.png">
<meta property="article:published_time" content="2023-03-21T08:47:42.000Z">
<meta property="article:modified_time" content="2023-03-21T08:47:42.000Z">
<meta property="article:author" content="Jia">
<meta property="article:tag" content="åµŒå…¥å¼">
<meta property="article:tag" content="ä»£ç è§£è¯»">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic1.zhimg.com/50/v2-2e5c249ab76e390a9e582c37e4b0aba3_720w.jpg?source=1940ef5c">


<link rel="canonical" href="http://example.com/2023/03/21/42/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2023/03/21/42/","path":"2023/03/21/42/","title":"åµŒå…¥å¼common"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>åµŒå…¥å¼common | DustOfStars</title>
  




<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<script type="text/javascript" src="/js/love.js"></script>
<!-- æ–‡ç« åŠ å¯† -->
<script>
    (function(){
        if(''){
            if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== ''){
                alert('å¯†ç é”™è¯¯ï¼');
                history.back();
            }
        }
    })();
</script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">DustOfStars</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">--jxw</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
        <li class="menu-item menu-item-github"><a href="https://github.com/DustOfStars" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>Github</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#startup-c%E6%98%AF%E5%81%9A%E4%BB%80%E4%B9%88%E7%9A%84%EF%BC%9F"><span class="nav-number">1.</span> <span class="nav-text">startup.cæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E6%96%87%E4%BB%B6%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E6%AF%94main%E5%85%88%E5%90%AF%E5%8A%A8%EF%BC%9F"><span class="nav-number">2.</span> <span class="nav-text">å¯åŠ¨æ–‡ä»¶ä¸ºä»€ä¹ˆä¼šæ¯”mainå…ˆå¯åŠ¨ï¼Ÿ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BSS%E6%AE%B5%E6%98%AF%E5%81%9A%E4%BB%80%E4%B9%88%E7%9A%84%EF%BC%9F"><span class="nav-number">3.</span> <span class="nav-text">BSSæ®µæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#RAM%E4%B8%AD%E7%9A%84%E5%90%84%E4%B8%AA%E6%AE%B5"><span class="nav-number">4.</span> <span class="nav-text">RAMä¸­çš„å„ä¸ªæ®µ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#RAM%E5%86%85%E5%AD%98"><span class="nav-number">4.1.</span> <span class="nav-text">RAMå†…å­˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E5%99%A8%E7%BC%96%E8%AF%91%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90"><span class="nav-number">4.2.</span> <span class="nav-text">ç¼–è¯‘å™¨ç¼–è¯‘ç»“æœåˆ†æ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A0%86%E6%A0%88"><span class="nav-number">4.3.</span> <span class="nav-text">å †æ ˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A0%86-heap"><span class="nav-number">4.3.1.</span> <span class="nav-text">å † heap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%88-stack"><span class="nav-number">4.3.2.</span> <span class="nav-text">æ ˆ stack</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">4.4.</span> <span class="nav-text">æ€»ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%8B%E5%AD%90"><span class="nav-number">4.5.</span> <span class="nav-text">ä¾‹å­</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jia</p>
  <div class="site-description" itemprop="description">Go ahead, and believe in yourself.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">71</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">51</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/DustOfStars" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;DustOfStars" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/21/42/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jia">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DustOfStars">
      <meta itemprop="description" content="Go ahead, and believe in yourself.">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="åµŒå…¥å¼common | DustOfStars">
      <meta itemprop="description" content="äº†è§£åµŒå…¥å¼ä»£ç é‡Œé¢çš„ä¸€äº›commonå†…å®¹">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          åµŒå…¥å¼common
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-21 16:47:42" itemprop="dateCreated datePublished" datetime="2023-03-21T16:47:42+08:00">2023-03-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">åµŒå…¥å¼</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB/" itemprop="url" rel="index"><span itemprop="name">ä»£ç è§£è¯»</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">äº†è§£åµŒå…¥å¼ä»£ç é‡Œé¢çš„ä¸€äº›commonå†…å®¹</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="startup-cæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ"><a href="#startup-cæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="startup.cæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ"></a>startup.cæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ</h1><p>startup.cé€šå¸¸æ˜¯æŒ‡åµŒå…¥å¼ç³»ç»Ÿä¸­çš„å¯åŠ¨ä»£ç ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯<strong>åˆå§‹åŒ–ç³»ç»Ÿå¹¶å¯åŠ¨åº”ç”¨ç¨‹åº</strong>ã€‚</p>
<p>åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œä¼šè¿›è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œå¦‚è®¾ç½®å †æ ˆã€å¤åˆ¶æ•°æ®æ®µã€æ¸…é›¶BSSæ®µã€è®¾ç½®ä¸­æ–­å‘é‡è¡¨ç­‰ã€‚æ­¤å¤–ï¼Œstartup.cè¿˜ä¼šåŠ è½½åº”ç”¨ç¨‹åºï¼Œå°†æ§åˆ¶è½¬ç§»åˆ°åº”ç”¨ç¨‹åºçš„å…¥å£å¤„ï¼Œå¼€å§‹æ‰§è¡Œåº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚</p>
<p>å› æ­¤ï¼Œstartup.céå¸¸é‡è¦ï¼Œæ¶‰åŠåˆ°æ•´ä¸ªç³»ç»Ÿçš„å¯åŠ¨å’Œè¿è¡Œã€‚ä¸åŒçš„åµŒå…¥å¼å¹³å°å’ŒèŠ¯ç‰‡å‚å•†ä¼šæœ‰ä¸åŒçš„startup.cä»£ç ï¼Œä½†å®ƒä»¬çš„åŸºæœ¬é€»è¾‘å’Œæµç¨‹æ˜¯ç±»ä¼¼çš„ã€‚</p>
<h1 id="å¯åŠ¨æ–‡ä»¶ä¸ºä»€ä¹ˆä¼šæ¯”mainå…ˆå¯åŠ¨ï¼Ÿ"><a href="#å¯åŠ¨æ–‡ä»¶ä¸ºä»€ä¹ˆä¼šæ¯”mainå…ˆå¯åŠ¨ï¼Ÿ" class="headerlink" title="å¯åŠ¨æ–‡ä»¶ä¸ºä»€ä¹ˆä¼šæ¯”mainå…ˆå¯åŠ¨ï¼Ÿ"></a>å¯åŠ¨æ–‡ä»¶ä¸ºä»€ä¹ˆä¼šæ¯”mainå…ˆå¯åŠ¨ï¼Ÿ</h1><p>è¿™ä¸ªé—®é¢˜æ€»ç»“èµ·æ¥å°±æ˜¯CPUå¯åŠ¨æ—¶æ ¹æ®å¤–éƒ¨bootå¼•è„šçŠ¶æ€ä»(<strong>èµ·å§‹åœ°å€+0x4</strong>)åœ°å€åŠ è½½æ•°æ®ï¼Œèµ‹å€¼ç»™PC(<strong>æ‰§è¡Œç¨‹åºå¯„å­˜å™¨ï¼Œr15</strong>)ï¼Œè€Œç¼–è¯‘å™¨å°†<code>startup.s</code>æ–‡ä»¶ä¸­çš„<strong>ResetHanderå‡½æ•°çš„åœ°å€ç¼–è¯‘åˆ°(èµ·å§‹åœ°å€+0x4)å†…éƒ¨</strong>ï¼Œæ‰€ä»¥startup.sè¢«å…ˆè°ƒç”¨ã€‚</p>
<p>è¯¦ç»†çš„è§£é‡Šéœ€è¦å‚è€ƒCortex-Mç³»åˆ—çš„çŸ¥è¯†ï¼Œä¸‹é¢æ¥è¯¦ç»†è¯´æ˜ã€‚é¦–å…ˆå‚è€ƒSTM32F1xçš„æ‰‹å†Œ2.4å¯åŠ¨é…ç½®è¿™å¥è¯</p>
<img src="https://pic1.zhimg.com/50/v2-2e5c249ab76e390a9e582c37e4b0aba3_720w.jpg?source=1940ef5c" data-caption data-size="normal" data-rawwidth="1213" data-rawheight="119" class="origin_image zh-lightbox-thumb" width="1213" data-original="https://pic1.zhimg.com/v2-2e5c249ab76e390a9e582c37e4b0aba3_r.jpg?source=1940ef5c">

<p>é‚£ä¹ˆå°±å¯ä»¥ç†è§£ä»0x04åœ°å€æ‰§è¡Œä»£ç ï¼Œè¿™æ˜¯ç”±èŠ¯ç‰‡è®¾è®¡æ—¶è§„å®šçš„ï¼Œè‡³äºå¦‚ä½•å®ç°å°±æ˜¯é›†æˆç”µè·¯ç›¸å…³çš„çŸ¥è¯†äº†ï¼Œè¿™é‡Œä¸åœ¨è¯´æ˜ï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒResetHanderå¦‚ä½•è¢«ç¼–è¯‘åˆ°0x04åç§»åœ°å€çš„ï¼Œè¿™å°±æ¶‰åŠä¸­æ–­å‘é‡è¡¨çš„çŸ¥è¯†ï¼Œä¸‹é¢æ¥è‡ªäº&lt;Cortex-M3æƒå¨æŒ‡å—&gt;å…³äºå¼‚å¸¸çš„è¯´æ˜ç« èŠ‚ã€‚</p>
<img src="https://pic1.zhimg.com/50/v2-f20a9e9511c6df3a64db9be45b2a8710_720w.jpg?source=1940ef5c" data-caption data-size="normal" data-rawwidth="1289" data-rawheight="534" data-default-watermark-src="https://pic1.zhimg.com/50/v2-30a6353a8582f2c2b3aa1298f3ac59c3_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="1289" data-original="https://pica.zhimg.com/v2-f20a9e9511c6df3a64db9be45b2a8710_r.jpg?source=1940ef5c">

<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œ<strong>åœ¨0x04åç§»åœ°å€ä¸­å®šä½çš„å°±æ˜¯å¤ä½å‘é‡</strong>ï¼Œè€Œåœ¨ä»£ç startup.sä¸­ï¼Œå°±å¯ä»¥çœ‹åˆ°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">__Vectors       DCD     __initial_sp               ; Top of Stack</span><br><span class="line">                DCD     Reset_Handler              ; Reset Handler</span><br><span class="line">                DCD     NMI_Handler                ; NMI Handler</span><br><span class="line">                ...</span><br><span class="line">__Vectors_End</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´ç”±å†…æ ¸ç‰¹æ€§å’ŒSTMèŠ¯ç‰‡çš„å®šä¹‰ï¼Œ<strong>ä¸Šç”µæ—¶çš„å…¥å£åœ°å€ä¸€å®šæ˜¯Reset_Handler</strong>ï¼Œè€ŒReset_Handlerå°±æ”¾ç½®åœ¨åœ¨å¯åŠ¨æ–‡ä»¶startup.sä¸­ï¼Œè¿™å°±æ˜¯å¯åŠ¨æ–‡ä»¶startup.sæ¯”mainå…ˆè°ƒç”¨çš„æ€»çš„åŸå› .</p>
<p>ç®€ç•¥å›ç­”ï¼š startupæ¯”mainæ›´å…ˆè°ƒç”¨ï¼Œç¡®å®å’Œç¼–è¯‘å™¨è®¾ç½®æœ‰å…³ï¼Œä½†æ›´å¤šçš„æ˜¯ç¨‹åºæœ¬æ¥å¦‚æ­¤ã€‚</p>
<p>è¯¦ç»†å›ç­”ï¼šèƒŒæ™¯çŸ¥è¯†ç¨‹åºçš„ç”Ÿæˆæ­¥éª¤ä¸€èˆ¬åˆ†æˆå››æ­¥ preprocess(.c) -&gt; compile(.S) -&gt; assemble (.o) -&gt; linkï¼Œå…·ä½“å¯é˜…è¯» The Four Stages of Compiling a C Program ã€‚</p>
<p>Linker Scriptçš„åŸºæœ¬çŸ¥è¯†ï¼š Simple Linker Script Exampleå…·ä½“ä¾‹å­ä¸‹é¢çš„æˆªå›¾æ˜¯Atmel SAMD10D14AMçš„souce codeï¼Œç¬¬ä¸€å¼ æ˜¯ Linker Script (samd10d14am_flash.ld)ï¼Œç¬¬äºŒå¼ æ˜¯ Startup file (startup_samd10.c)ã€‚æ¥ä¸‹æ¥è§£é‡Šhighlightéƒ¨åˆ†çš„å«ä¹‰ã€‚</p>
<img src="https://picx.zhimg.com/50/v2-52138c1fa6536fabc081b364d8044619_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="868" data-rawheight="477" data-default-watermark-src="https://pica.zhimg.com/50/v2-4afd7ce25c84fe1b9b95b959264292aa_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="868" data-original="https://pic1.zhimg.com/v2-52138c1fa6536fabc081b364d8044619_r.jpg?source=1940ef5c">
Linker Script

<img src="https://pic1.zhimg.com/50/v2-a571c5379d301d831a96446f8c56c10a_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="790" data-rawheight="482" data-default-watermark-src="https://picx.zhimg.com/50/v2-4a734839eec7f0c9f8fb2cebee129d8e_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="790" data-original="https://picx.zhimg.com/v2-a571c5379d301d831a96446f8c56c10a_r.jpg?source=1940ef5c">
Vector Table

<p>Vectorså°±æ˜¯æ‰€è°“Exception Tableã€‚å¯¹äºARMå¤„ç†å™¨Cortex Mç³»åˆ—ï¼Œ<strong>Tableçš„ç¬¬ä¸€æ¡æ˜¯Stack Pointerçš„åœ°å€ï¼Œç¬¬äºŒæ¡å°±æ˜¯æœ€é‡è¦çš„ISR for resetçš„åœ°å€</strong>ã€‚</p>
<p>å·¦è¾¹çš„Linker ScriptæŒ‡å®šæŠŠ section(â€œ.vectorâ€) æ”¾åœ¨ç”Ÿæˆç¨‹åºçš„.textä»£ç æ®µï¼Œä¸€èˆ¬ä¹Ÿå°±æ˜¯flashçš„èµ·å§‹åœ°å€ã€‚ä»keyword MEMORYçš„å®šä¹‰æ¥çœ‹ï¼Œflash romçš„èµ·å§‹åœ°å€æ˜¯0x00000000ï¼Œå¤§å°æ˜¯0x00000800 (16K)ï¼Œåˆšå¥½ç¬¦åˆå®˜æ–¹æ–‡æ¡£çš„æè¿° <a target="_blank" rel="noopener" href="https://web.eecs.umich.edu/~prabal/teaching/resources/eecs373/ARM_Cortex_AppNote179.pdf">https://web.eecs.umich.edu/~prabal/teaching/resources/eecs373/ARM_Cortex_AppNote179.pdf</a> </p>
<blockquote>
<p>1.1 Nested Vectored Interrupt Controller (NVIC)The initial stack pointer and the address of the reset handler must be located at 0x0 and 0x4 respectively. These values are then loaded into the appropriate CPU registers at reset.</p>
</blockquote>
<p><em><strong>Reset_Handler()è¿™ä¸ªISRå°±æ˜¯CPU power onæˆ–è€…resetåçš„ç¬¬ä¸€ä¸ªroutineï¼Œé‡Œé¢ä¼šå…ˆåšä¸€äº›ç®€å•åˆå§‹åŒ–ï¼Œæ¯”å¦‚Intialize the C librayï¼ˆè¿™æ ·æˆ‘ä»¬æ‰èƒ½åœ¨åå¤´çš„ä»£ç é‡Œç›´æ¥ç”¨strcpy()ç­‰å¸¸è§å‡½æ•°ï¼‰ï¼Œæœ€åè·³å¾€æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„main()ã€‚</strong></em></p>
<p>å…¶ä½™çš„ISRéƒ½æ˜¯optionalï¼Œå¯ä»¥ç•™ç™½ï¼Œä¼šè‡ªåŠ¨è¢«Dummy_Handlerå¡«å……ï¼Œå› ä¸ºkeyword weakã€‚ç»“è®ºå¯åŠ¨æ–‡ä»¶startupæ¯”main()å…ˆå¯åŠ¨ï¼Œæ˜¯å› ä¸ºç¨‹åºçš„å¯åŠ¨é¡ºåºå°±æ˜¯è¿™æ ·çš„ï¼Œ**CPU power on &#x2F; reset -&gt; Reset_Handler() -&gt; main()**ã€‚</p>
<h1 id="BSSæ®µæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ"><a href="#BSSæ®µæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="BSSæ®µæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ"></a>BSSæ®µæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ</h1><p>BSSæ®µï¼ˆBlock Started by Symbolï¼‰æ˜¯æŒ‡<strong>ç¨‹åºä¸­æœªè¢«åˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡æ‰€å ç”¨çš„ä¸€æ®µå†…å­˜ç©ºé—´</strong>ã€‚åœ¨ç¨‹åºåŠ è½½è¿è¡Œæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€å—å†…å­˜ç©ºé—´ç”¨äºå­˜æ”¾BSSæ®µã€‚</p>
<p><strong>BSSæ®µä¸­çš„å˜é‡è¢«é»˜è®¤åˆå§‹åŒ–ä¸º0</strong>ï¼Œå› æ­¤ï¼Œåœ¨ç¨‹åºç¼–å†™ä¸­ä¸éœ€è¦ä¸ºå®ƒä»¬æ˜¾å¼åœ°èµ‹åˆå€¼ã€‚BSSæ®µå¯¹äºèŠ‚çœå†…å­˜ç©ºé—´å’Œç¨‹åºè¿è¡Œæ•ˆç‡éƒ½æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚è¿™æ˜¯å› ä¸ºï¼Œç¨‹åºä¸­çš„æœªåˆå§‹åŒ–å˜é‡ä¼šåœ¨BSSæ®µä¸­è¢«ç»Ÿä¸€åœ°è®¾ç½®ä¸º0ï¼Œè€Œä¸éœ€è¦åœ¨ç¨‹åºä¸­å­˜å‚¨è¿™äº›å˜é‡çš„å…·ä½“å€¼ã€‚è¿™æ ·ï¼Œåœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ<strong>BSSæ®µæ‰€å ç©ºé—´å¯ä»¥è¢«å¤šæ¬¡é‡ç”¨å¹¶åŠ¨æ€åˆ†é…ï¼Œä»è€Œä½¿å¾—ç¨‹åºçš„å†…å­˜åˆ©ç”¨ç‡æ›´é«˜</strong>ã€‚</p>
<h1 id="RAMä¸­çš„å„ä¸ªæ®µ"><a href="#RAMä¸­çš„å„ä¸ªæ®µ" class="headerlink" title="RAMä¸­çš„å„ä¸ªæ®µ"></a>RAMä¸­çš„å„ä¸ªæ®µ</h1><h2 id="RAMå†…å­˜"><a href="#RAMå†…å­˜" class="headerlink" title="RAMå†…å­˜"></a>RAMå†…å­˜</h2><p>RAMå†…å­˜åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä»£ç æ®µï¼ˆtextï¼‰</li>
<li>æ•°æ®æ®µ(data)</li>
<li>bssæ®µ</li>
<li>å †æ ˆæ®µï¼ˆhead stackï¼‰</li>
</ul>
<p><img src="/2023/03/21/42/RAM%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA.png" alt="RAMå†…å­˜åˆ†åŒº.png"></p>
<h2 id="ç¼–è¯‘å™¨ç¼–è¯‘ç»“æœåˆ†æ"><a href="#ç¼–è¯‘å™¨ç¼–è¯‘ç»“æœåˆ†æ" class="headerlink" title="ç¼–è¯‘å™¨ç¼–è¯‘ç»“æœåˆ†æ"></a>ç¼–è¯‘å™¨ç¼–è¯‘ç»“æœåˆ†æ</h2><p><img src="/2023/03/21/42/%E7%BC%96%E8%AF%91%E7%BB%93%E6%9E%9C.png" alt="ç¼–è¯‘ç»“æœ.png"></p>
<p>ç¼–è¯‘ç»“æœæœ‰ä»£ç æ®µï¼ˆtextï¼‰ã€æ•°æ®æ®µ(data)ã€bssæ®µã€‚</p>
<ul>
<li>ä»£ç æ®µï¼ˆ.textï¼‰æ˜¯å¯<strong>æ‰§è¡ŒæŒ‡ä»¤çš„é›†åˆ</strong>ï¼›</li>
<li>æ•°æ®æ®µ (.data) è¡¨ç¤º<strong>å·²ç»åˆå§‹åŒ–ä¸ä¸º0çš„å­˜æ”¾åœ¨é™æ€åŒºçš„æ•°æ®ï¼ˆå…¨å±€ or é™æ€ï¼‰</strong>ã€‚</li>
<li>.bssæ®µ è¡¨ç¤ºæœªåˆå§‹åŒ–çš„æˆ–ä¸º0çš„å­˜æ”¾åœ¨é™æ€åŒºçš„æ•°æ®ï¼ˆå…¨å±€ or é™æ€ï¼‰ã€‚</li>
</ul>
<p>ä»å¯æ‰§è¡Œç¨‹åºçš„è§’åº¦æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®æœªè¢«åˆå§‹åŒ–ï¼Œå°±ä¸éœ€è¦ä¸ºå…¶åˆ†é…ç©ºé—´ï¼Œæ‰€ä»¥.data å’Œ.bss çš„åŒºåˆ«å°±æ˜¯ï¼š <strong>.bss å¹¶ä¸å ç”¨å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ï¼Œä»…ä»…è®°å½•éœ€è¦ç”¨å¤šå°‘ç©ºé—´æ¥å­˜å‚¨è¿™äº›æœªåˆå§‹åŒ–çš„æ•°æ®ï¼Œè€Œä¸åˆ†é…å®é™…ç©ºé—´</strong>ã€‚</p>
<p>æ‰€ä»¥ä»£ç æ®µï¼ˆtextï¼‰ã€æ•°æ®æ®µ(data)è¿™ä¸¤è€…ç›¸åŠ å…±åŒæ„æˆå¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ï¼Œdecä¹Ÿå°±æ˜¯æ–‡ä»¶å¤§å°(hexä¹Ÿæ˜¯æ–‡ä»¶å¤§å°ï¼Œåªä¸è¿‡æ˜¯16è¿›åˆ¶è¡¨ç¤ºçš„)ã€‚</p>
<h2 id="å †æ ˆ"><a href="#å †æ ˆ" class="headerlink" title="å †æ ˆ"></a>å †æ ˆ</h2><h3 id="å †-heap"><a href="#å †-heap" class="headerlink" title="å † heap"></a>å † heap</h3><p><strong>å †ä¿å­˜å‡½æ•°å†…éƒ¨åŠ¨æ€åˆ†é…ï¼ˆmalloc æˆ– newï¼‰çš„å†…å­˜ï¼Œæ˜¯å¦å¤–ä¸€ç§ç”¨æ¥ä¿å­˜ç¨‹åºä¿¡æ¯çš„æ•°æ®ç»“æ„ã€‚</strong><br>å †æ˜¯å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰æ•°æ®ç»“æ„ã€‚å †çš„åœ°å€ç©ºé—´æ˜¯å‘ä¸Šå¢åŠ ï¼Œå³å½“å †ä¸Šä¿å­˜çš„æ•°æ®è¶Šå¤šï¼Œå †çš„åœ°å€è¶Šé«˜ã€‚åŠ¨æ€å†…å­˜åˆ†é…ã€‚<br>æ³¨æ„ï¼š<strong>å †å†…å­˜éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œé€šå¸¸é€‚ç”¨äºè¾ƒå¤§çš„å†…å­˜åˆ†é…ï¼Œå¦‚é¢‘ç¹çš„åˆ†é…è¾ƒå°çš„å†…å­˜ï¼Œå®¹æ˜“å¯¼è‡´å†…å­˜ç¢ç‰‡åŒ–</strong>ã€‚</p>
<h3 id="æ ˆ-stack"><a href="#æ ˆ-stack" class="headerlink" title="æ ˆ stack"></a>æ ˆ stack</h3><p><strong>æ ˆä¿å­˜å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼ˆä¸åŒ…æ‹¬ static ä¿®é¥°çš„å˜é‡ï¼‰ï¼Œå‚æ•°ä»¥åŠè¿”å›å€¼</strong>ã€‚æ˜¯ä¸€ç§åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚<br>åœ¨è°ƒç”¨å‡½æ•°æˆ–è¿‡ç¨‹åï¼Œç³»ç»Ÿä¼šæ¸…é™¤æ ˆä¸Šä¿å­˜çš„å±€éƒ¨å˜é‡ã€å‡½æ•°è°ƒç”¨ä¿¡æ¯åŠå…¶ä»–ä¿¡æ¯ã€‚<br>æ ˆçš„å¦å¤–ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯ï¼Œå®ƒçš„åœ°å€ç©ºé—´ å‘ä¸‹å‡å°‘ï¼Œå³å½“æ ˆä¸Šä¿å­˜çš„æ•°æ®è¶Šå¤šï¼Œæ ˆçš„åœ°å€è¶Šä½ã€‚<strong>é™æ€å†…å­˜åˆ†é…</strong>ã€‚</p>
<blockquote>
<p><em><strong>æ³¨æ„ï¼šç”±äºæ ˆçš„ç©ºé—´é€šå¸¸æ¯”è¾ƒå°ï¼Œä¸€èˆ¬ linux ç¨‹åºåªæœ‰å‡  Mï¼Œæ•…å±€éƒ¨å˜é‡ï¼Œå‡½æ•°å…¥å‚åº”è¯¥é¿å…å‡ºç°è¶…å¤§æ ˆå†…å­˜ä½¿ç”¨ï¼Œæ¯”å¦‚è¶…å¤§ç»“æ„ä½“ï¼Œæ•°ç»„ç­‰ï¼Œé¿å…å‡ºç° stack overflowã€‚</strong></em></p>
</blockquote>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><table>
<thead>
<tr>
<th>æ®µå</th>
<th>å­˜å‚¨å±æ€§</th>
<th>å†…å­˜åˆ†é…</th>
</tr>
</thead>
<tbody><tr>
<td>ä»£ç æ®µ<br>.text</td>
<td>å­˜æ”¾å¯æ‰§è¡Œç¨‹åºçš„æŒ‡ä»¤ï¼Œå­˜å‚¨æ€å’Œè¿è¡Œæ€éƒ½æœ‰</td>
<td>é™æ€</td>
</tr>
<tr>
<td>æ•°æ®æ®µ<br>.data</td>
<td>å­˜æ”¾å·²åˆå§‹åŒ–ï¼ˆéé›¶åˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å±€éƒ¨å˜é‡ï¼‰çš„æ•°æ®ï¼Œå­˜å‚¨æ€å’Œè¿è¡Œæ€éƒ½æœ‰</td>
<td>é™æ€</td>
</tr>
<tr>
<td>bssæ®µ<br>.bss</td>
<td>å­˜æ”¾æœªåˆå§‹åŒ–ï¼ˆæœªåˆå§‹åŒ–æˆ–è€…0åˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å±€éƒ¨å˜é‡ï¼‰çš„æ•°æ®ï¼Œå­˜å‚¨æ€å’Œè¿è¡Œæ€éƒ½æœ‰</td>
<td>é™æ€</td>
</tr>
<tr>
<td>å †<br>heap</td>
<td>åŠ¨æ€åˆ†é…å†…å­˜ï¼Œéœ€è¦é€šè¿‡mallocæ‰‹åŠ¨ç”³è¯·ï¼Œfreeæ‰‹åŠ¨é‡Šæ”¾ï¼Œé€‚åˆå¤§å—å†…å­˜ã€‚å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼å’Œå†…å­˜ç¢ç‰‡ã€‚è¿è¡Œæ€æ‰æœ‰</td>
<td>åŠ¨æ€</td>
</tr>
<tr>
<td>æ ˆ<br>stack</td>
<td>å­˜æ”¾å‡½æ•°å±€éƒ¨å˜é‡å’Œå‚æ•°ä»¥åŠè¿”å›å€¼ï¼Œå‡½æ•°è¿”å›åï¼Œç”±æ“ä½œç³»ç»Ÿç«‹å³å›æ”¶ã€‚æ ˆç©ºé—´ä¸å¤§ï¼Œä½¿ç”¨ä¸å½“å®¹æ˜“æ ˆæº¢å‡ºã€‚è¿è¡Œæ€æ‰æœ‰</td>
<td>é™æ€</td>
</tr>
</tbody></table>
<h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;<span class="comment">//åˆå§‹åŒ–çš„å…¨å±€å˜é‡:ä¿å­˜åœ¨æ•°æ®æ®µ</span></span><br><span class="line"><span class="type">char</span> *p1;<span class="comment">//æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡:ä¿å­˜åœ¨BSSæ®µ</span></span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> b;<span class="comment">//æœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡:ä¿å­˜åœ¨æ ˆä¸Š</span></span><br><span class="line">    <span class="type">char</span> s[] = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">    <span class="comment">/* &quot;abc&quot;ä¸ºå­—ç¬¦ä¸²å¸¸é‡ä¿å­˜åœ¨å¸¸é‡åŒºï¼›æ•°ç»„ä¿å­˜åœ¨æ ˆä¸Šï¼Œ</span></span><br><span class="line"><span class="comment">    å¹¶å°†å¸¸é‡åŒºçš„&quot;abc\0&quot;å¤åˆ¶åˆ°è¯¥æ•°ç»„ä¸­ã€‚è¿™ä¸ªæ•°ç»„å¯ä»¥éšæ„ä¿®æ”¹è€Œä¸ä¼šæœ‰ä»»ä½•éšæ‚£ï¼Œ</span></span><br><span class="line"><span class="comment">    è€Œ&quot;123&quot;è¿™ä¸ªå­—ç¬¦ä¸²ä¾ç„¶ä¼šä¿ç•™åœ¨é™æ€åŒºä¸­ã€‚</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"> </span><br><span class="line">    <span class="type">char</span> *p2;<span class="comment">//p2ä¿å­˜åœ¨æ ˆä¸Š</span></span><br><span class="line">    <span class="type">char</span> *p3 = <span class="string">&quot;123456&quot;</span>;<span class="comment">//p3ä¿å­˜åœ¨æ ˆä¸Šï¼Œ&quot;123456\0&quot;ä¿å­˜åœ¨dataåŒºçš„read-onlyéƒ¨åˆ†</span></span><br><span class="line">    <span class="comment">//æ³¨æ„ï¼šå¦‚æœä»¤p3[1] = 9; åˆ™ç¨‹åºå´©æºƒï¼ŒæŒ‡é’ˆå¯ä»¥è®¿é—®ä½†ä¸å…è®¸æ”¹å˜å¸¸é‡åŒºçš„å†…å®¹</span></span><br><span class="line">    <span class="comment">/* å£°æ˜äº†ä¸€ä¸ªæŒ‡é’ˆp3å¹¶æŒ‡å‘&quot;123456\0&quot;åœ¨é™æ€åŒºä¸­çš„åœ°å€ï¼Œäº‹å®ä¸Šï¼Œp3åº”è¯¥å£°æ˜ä¸º</span></span><br><span class="line"><span class="comment">    char const *ï¼Œä»¥å…å¯ä»¥é€šè¿‡p3[i]=&#x27;\n&#x27;è¿™ä¸€ç±»çš„è¯­æ³•å»ä¿®æ”¹è¿™ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹ã€‚å¦‚æœè¿™æ ·åšäº†ï¼Œåœ¨æ”¯æŒâ€œå¸¸é‡åŒºâ€çš„ç³»ç»Ÿä¸­å¯èƒ½ä¼šå¯¼è‡´å¼‚å¸¸ï¼Œåœ¨â€œåˆå¹¶ç›¸åŒå­—ç¬¦ä¸²â€çš„ç¼–è¯‘æ–¹æ³•ä¸‹ä¼šå¯¼è‡´å…¶å®ƒåœ°æ–¹çš„å­—ç¬¦ä¸²å¸¸é‡å¤æ€ªåœ°å‘ç”Ÿå˜åŒ–ã€‚</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> c = <span class="number">0</span>;<span class="comment">//åˆå§‹åŒ–çš„é™æ€å±€éƒ¨å˜é‡:ä¿å­˜åœ¨æ•°æ®åŒºï¼ˆæ•°æ®æ®µï¼‰</span></span><br><span class="line"> </span><br><span class="line">    p1 = (<span class="type">char</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">char</span>) * <span class="number">10</span>);<span class="comment">//åˆ†é…çš„10å­—èŠ‚åŒºåŸŸä¿å­˜åœ¨å †ä¸Š</span></span><br><span class="line">    p2 = (<span class="type">char</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">char</span>) * <span class="number">20</span>);<span class="comment">//åˆ†é…çš„20å­—èŠ‚åŒºåŸŸä¿å­˜åœ¨å †ä¸Š</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">strcpy</span>(p1, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    <span class="comment">//&quot;123456\0&quot;æ”¾åœ¨å¸¸é‡åŒºï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šå°†å®ƒä¸p3æ‰€æŒ‡å‘&quot;123456&quot;ä¼˜åŒ–æˆä¸€ä¸ªåœ°æ–¹</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    
      


    <footer class="post-footer"><div>
    
    <div style="text-align:center;color: #ccc;font-size:14px;">-------------æœ¬æ–‡ç»“æŸ<i
            class="fa fa-paw"></i>å†æ¥å†å‰-------------</div>
    
</div>


<div class="my_post_copyright">
    <p><span>æœ¬æ–‡æ ‡é¢˜:</span><a href="/2023/03/21/42/">åµŒå…¥å¼common</a></p>
    <p><span>æ–‡ç« ä½œè€…:</span><a href="/" title="è®¿é—® Jia çš„ä¸ªäººåšå®¢">Jia</a></p>
    <p><span>å‘å¸ƒæ—¶é—´:</span>2023å¹´03æœˆ21æ—¥ - 16:03</p>
    <p><span>æœ€åæ›´æ–°:</span>2023å¹´03æœˆ21æ—¥ - 16:03</p>
    <p><span>åŸå§‹é“¾æ¥:</span><a href="/2023/03/21/42/" title="åµŒå…¥å¼common">http://example.com/2023/03/21/42/</a></p>
    <p><span>è®¸å¯åè®®:</span><i class="fab fa-creative-commons"></i>
        <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"
            title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">
            ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…</a>
        è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚
    </p>
</div>

          <div class="post-tags">
              <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" rel="tag"><i class="fa fa-tag"></i> åµŒå…¥å¼</a>
              <a href="/tags/%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB/" rel="tag"><i class="fa fa-tag"></i> ä»£ç è§£è¯»</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/03/21/40/" rel="prev" title="ä»£ç è§£è¯»ä¹‹fsl_gpio">
                  <i class="fa fa-chevron-left"></i> ä»£ç è§£è¯»ä¹‹fsl_gpio
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/03/22/43/" rel="next" title="<åµŒå…¥å¼> -- ä»ä¸€ä¸ªHelloWorldå¼€å§‹">
                  <åµŒå…¥å¼> -- ä»ä¸€ä¸ªHelloWorldå¼€å§‹ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2021 â€“ 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jia</span>
</div><div>
<!--æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´-->
<span>å°ç ´ç«™å·²ç»åœ¨é£é›¨ä¸­åº¦è¿‡äº†</span>
<span id="timeDate">è½½å…¥å¤©æ•°...</span>
<span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
<script>
    function createtime() {
        const startTime = '02/11/2021 00:12:55',
            start = new Date(startTime)
        let mill = new Date() - start,
            seconds = Math.floor(mill / 1000),
            mins = Math.floor(seconds / 60),
            hours = Math.floor(mins / 60),
            days = Math.floor(hours / 24)
        const time = {
            seconds: seconds - mins * 60,
            mins: mins - hours * 60,
            hours: hours - days * 24,
        }
        for (const k in time) {
            time[k] = `${time[k]}`.padStart(2, '0')
        }
        document.getElementById("timeDate").innerHTML = ` ${days} å¤©`
        document.getElementById("times").innerHTML = ` ${time.hours} å°æ—¶ ${time.mins} åˆ† ${time.seconds} ç§’`
    }
    setInterval(createtime, 500)
</script>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.2.7/pdfobject.min.js","integrity":"sha256-ph3Dk89VmuTVXG6x/RDzk53SU9LPdAh1tpv0UvnDZ2I="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>




  




<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: '32px',
  left: 'unset',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: false
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

</body>
</html>
